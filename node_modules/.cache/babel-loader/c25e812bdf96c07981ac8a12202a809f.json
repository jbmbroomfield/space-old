{"ast":null,"code":"import Bezier from './Bezier';\nimport Vector from './Vector';\nimport Direction from './Direction';\n\nclass Journey {\n  static journey(origin, destination, t0, t3) {\n    const handling = 100;\n    const acceleration = 1;\n    const v0 = origin.velocity(t0);\n    const direction0 = Vector.direction(v0);\n    const line = destination.position(t3) - origin.position(t0);\n    const unitLine = Vector.unitVector(line);\n    console.log({\n      line\n    });\n    const lineDirection = Vector.direction(line);\n    const p0 = origin.position(t0);\n    const p1 = Vector.build(origin.position(t0), origin.direction(t0), handling);\n    const p7 = destination.position(t3);\n    const p6 = Vector.build(destination.position(t3), destination.negativeDirection(t3), handling);\n    console.log({\n      lineDirection,\n      direction0\n    });\n    const turn1Angle = Direction.subtract(lineDirection, direction0);\n    let p2;\n\n    if (turn1Angle <= Math.PI / 2 || turn1Angle >= 3 * Math.PI / 2) {\n      p2 = p1;\n    } else if (turn1Angle < Math.PI) {\n      const rotatedUnitLine = Vector.rotate(unitLine, 3 * Math.PI / 2);\n      const p1p2L = handling * (2 * turn1Angle / Math.PI - 1);\n      const p1p2 = Vector.multiply(p1p2L, rotatedUnitLine);\n      console.log('a');\n      console.log({\n        p1,\n        p1p2\n      });\n      p2 = Vector.add(p1, p1p2);\n    } else {\n      const rotatedUnitLine = Vector.rotate(unitLine, Math.PI / 2);\n      console.log({\n        turn1Angle\n      });\n      const p1p2L = handling * (3 - 2 * turn1Angle / Math.PI);\n      console.log({\n        p1p2L,\n        rotatedUnitLine\n      });\n      const p1p2 = Vector.multiply(p1p2L, rotatedUnitLine);\n      console.log('b');\n      console.log({\n        p1,\n        p1p2\n      });\n      p2 = Vector.add(p1, p1p2);\n    }\n\n    console.log({\n      t0,\n      t3,\n      p0,\n      p1,\n      p2\n    });\n    return new Bezier(t0, t3, p0, p1, p2); // const turn2Angle = Direction.subtract()\n  }\n\n}\n\nexport default Journey;","map":{"version":3,"sources":["/home/jim/projects/space/src/classes/Journey.js"],"names":["Bezier","Vector","Direction","Journey","journey","origin","destination","t0","t3","handling","acceleration","v0","velocity","direction0","direction","line","position","unitLine","unitVector","console","log","lineDirection","p0","p1","build","p7","p6","negativeDirection","turn1Angle","subtract","p2","Math","PI","rotatedUnitLine","rotate","p1p2L","p1p2","multiply","add"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,MAAMC,OAAN,CAAc;AAEI,SAAPC,OAAO,CAACC,MAAD,EAASC,WAAT,EAAsBC,EAAtB,EAA0BC,EAA1B,EAA8B;AACxC,UAAMC,QAAQ,GAAG,GAAjB;AACA,UAAMC,YAAY,GAAG,CAArB;AAEA,UAAMC,EAAE,GAAGN,MAAM,CAACO,QAAP,CAAgBL,EAAhB,CAAX;AACA,UAAMM,UAAU,GAAGZ,MAAM,CAACa,SAAP,CAAiBH,EAAjB,CAAnB;AAEA,UAAMI,IAAI,GAAGT,WAAW,CAACU,QAAZ,CAAqBR,EAArB,IAA2BH,MAAM,CAACW,QAAP,CAAgBT,EAAhB,CAAxC;AACA,UAAMU,QAAQ,GAAGhB,MAAM,CAACiB,UAAP,CAAkBH,IAAlB,CAAjB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACL,MAAAA;AAAD,KAAZ;AACA,UAAMM,aAAa,GAAGpB,MAAM,CAACa,SAAP,CAAiBC,IAAjB,CAAtB;AACA,UAAMO,EAAE,GAAGjB,MAAM,CAACW,QAAP,CAAgBT,EAAhB,CAAX;AACA,UAAMgB,EAAE,GAAGtB,MAAM,CAACuB,KAAP,CAAanB,MAAM,CAACW,QAAP,CAAgBT,EAAhB,CAAb,EAAkCF,MAAM,CAACS,SAAP,CAAiBP,EAAjB,CAAlC,EAAwDE,QAAxD,CAAX;AAEA,UAAMgB,EAAE,GAAGnB,WAAW,CAACU,QAAZ,CAAqBR,EAArB,CAAX;AACA,UAAMkB,EAAE,GAAGzB,MAAM,CAACuB,KAAP,CAAalB,WAAW,CAACU,QAAZ,CAAqBR,EAArB,CAAb,EAAuCF,WAAW,CAACqB,iBAAZ,CAA8BnB,EAA9B,CAAvC,EAA0EC,QAA1E,CAAX;AAEAU,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACC,MAAAA,aAAD;AAAgBR,MAAAA;AAAhB,KAAZ;AACA,UAAMe,UAAU,GAAG1B,SAAS,CAAC2B,QAAV,CAAmBR,aAAnB,EAAkCR,UAAlC,CAAnB;AACA,QAAIiB,EAAJ;;AACA,QAAIF,UAAU,IAAIG,IAAI,CAACC,EAAL,GAAU,CAAxB,IAA6BJ,UAAU,IAAI,IAAEG,IAAI,CAACC,EAAP,GAAY,CAA3D,EAA8D;AAC1DF,MAAAA,EAAE,GAAGP,EAAL;AACH,KAFD,MAEO,IAAIK,UAAU,GAAGG,IAAI,CAACC,EAAtB,EAA0B;AAC7B,YAAMC,eAAe,GAAGhC,MAAM,CAACiC,MAAP,CAAcjB,QAAd,EAAwB,IAAIc,IAAI,CAACC,EAAT,GAAc,CAAtC,CAAxB;AACA,YAAMG,KAAK,GAAG1B,QAAQ,IAAI,IAAImB,UAAJ,GAAiBG,IAAI,CAACC,EAAtB,GAA2B,CAA/B,CAAtB;AACA,YAAMI,IAAI,GAAGnC,MAAM,CAACoC,QAAP,CAAgBF,KAAhB,EAAuBF,eAAvB,CAAb;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACG,QAAAA,EAAD;AAAKa,QAAAA;AAAL,OAAZ;AACAN,MAAAA,EAAE,GAAG7B,MAAM,CAACqC,GAAP,CAAWf,EAAX,EAAea,IAAf,CAAL;AACH,KAPM,MAOA;AACH,YAAMH,eAAe,GAAGhC,MAAM,CAACiC,MAAP,CAAcjB,QAAd,EAAwBc,IAAI,CAACC,EAAL,GAAU,CAAlC,CAAxB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACQ,QAAAA;AAAD,OAAZ;AACA,YAAMO,KAAK,GAAG1B,QAAQ,IAAI,IAAI,IAAImB,UAAJ,GAAiBG,IAAI,CAACC,EAA9B,CAAtB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACe,QAAAA,KAAD;AAAQF,QAAAA;AAAR,OAAZ;AACA,YAAMG,IAAI,GAAGnC,MAAM,CAACoC,QAAP,CAAgBF,KAAhB,EAAuBF,eAAvB,CAAb;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACG,QAAAA,EAAD;AAAKa,QAAAA;AAAL,OAAZ;AACAN,MAAAA,EAAE,GAAG7B,MAAM,CAACqC,GAAP,CAAWf,EAAX,EAAea,IAAf,CAAL;AACH;;AAEDjB,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACb,MAAAA,EAAD;AAAKC,MAAAA,EAAL;AAASc,MAAAA,EAAT;AAAaC,MAAAA,EAAb;AAAiBO,MAAAA;AAAjB,KAAZ;AAEA,WAAO,IAAI9B,MAAJ,CAAWO,EAAX,EAAeC,EAAf,EAAmBc,EAAnB,EAAuBC,EAAvB,EAA2BO,EAA3B,CAAP,CA1CwC,CA4CxC;AAEH;;AAhDS;;AAqDd,eAAe3B,OAAf","sourcesContent":["import Bezier from './Bezier'\nimport Vector from './Vector'\nimport Direction from './Direction'\n\nclass Journey {\n\n    static journey(origin, destination, t0, t3) {\n        const handling = 100\n        const acceleration = 1\n\n        const v0 = origin.velocity(t0)\n        const direction0 = Vector.direction(v0)\n\n        const line = destination.position(t3) - origin.position(t0)\n        const unitLine = Vector.unitVector(line)\n        console.log({line})\n        const lineDirection = Vector.direction(line)\n        const p0 = origin.position(t0)\n        const p1 = Vector.build(origin.position(t0), origin.direction(t0), handling)\n\n        const p7 = destination.position(t3)\n        const p6 = Vector.build(destination.position(t3), destination.negativeDirection(t3), handling)\n\n        console.log({lineDirection, direction0})\n        const turn1Angle = Direction.subtract(lineDirection, direction0)\n        let p2\n        if (turn1Angle <= Math.PI / 2 || turn1Angle >= 3*Math.PI / 2) {\n            p2 = p1\n        } else if (turn1Angle < Math.PI) {\n            const rotatedUnitLine = Vector.rotate(unitLine, 3 * Math.PI / 2)\n            const p1p2L = handling * (2 * turn1Angle / Math.PI - 1)\n            const p1p2 = Vector.multiply(p1p2L, rotatedUnitLine)\n            console.log('a')\n            console.log({p1, p1p2})\n            p2 = Vector.add(p1, p1p2)\n        } else { \n            const rotatedUnitLine = Vector.rotate(unitLine, Math.PI / 2)\n            console.log({turn1Angle})\n            const p1p2L = handling * (3 - 2 * turn1Angle / Math.PI)\n            console.log({p1p2L, rotatedUnitLine})\n            const p1p2 = Vector.multiply(p1p2L, rotatedUnitLine)\n            console.log('b')\n            console.log({p1, p1p2})\n            p2 = Vector.add(p1, p1p2)\n        }\n\n        console.log({t0, t3, p0, p1, p2})\n\n        return new Bezier(t0, t3, p0, p1, p2)\n\n        // const turn2Angle = Direction.subtract()\n\n    }\n\n\n}\n\nexport default Journey"]},"metadata":{},"sourceType":"module"}